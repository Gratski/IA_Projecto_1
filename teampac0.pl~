
%%%%%%%%%%%%
% Comportamento ZigZag Pacman
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
:- use_module(library(lists)).


%pacman(Clock, ClockLimit, Score, Me, Partner, OtherTeam, HomeBase , HisBase, FreeCells, MyP, MYSupP, HisP, HisSupP, Decisao) :-

pacman0(_,_,_,(_,X,Y,_,_),_,_,_,_,Free,_,_,_,_,Dec) :-
	findall(D,(viz(D,(X,Y),Viz),member(Viz,Free)),L),
	random_member(Dec,L).


viz(0,(X,Y),(X,NY)) :-
	NY is Y + 1.
viz(180,(X,Y),(X,NY)) :-
	NY is Y - 1.
viz(90,(X,Y),(NX,Y)) :-
	NX is X + 1.
viz(270,(X,Y),(NX,Y)) :-
	NX is X - 1.

% select a random element of a list
%randMember(X,L) :-
% L \= [],
% comp(L,N),
% V is random(N),
% extractMember(0,V,L,X),!.

% The length of a list
comp([],0).
comp([_|T],N):-
	comp(T,M),
	N is M+1.

% extract the nth of a list
extractMember(I,E,[H|RL],Res) :-
	(I == E -> Res = H ; (NI is I+1, extractMember(NI,E,RL,Res))).
